{% extends 'common/base.html' %}

{% block content %}
{% for message in messages %}
<div class="alert alert-primary" role="alert">
    {{ message }}
</div>
{% endfor %}
<div class="card text-center" style="background-color: #C2D6C2; border: none; box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.1);">
    <div class="card-body">
        <form id="sign_form" method="POST" action="{% url 'signup' %}">
            {% csrf_token %}
            <div class="row text-center mb-3">
                <div class="col">
                    <label class="form-label" style="color: #4F7942;">아이디</label>
                    <input id="username" class="form-control" type="text" name="username" style="border-color: #9CAF88;">
                </div>
            </div>

            <div class="row text-center mb-3">
                <div class="col">
                    <label class="form-label" style="color: #4F7942;">비밀번호</label>
                    <input id="password" class="form-control" type="password" name="password" style="border-color: #9CAF88;">
                </div>
            </div>

            <div class="row text-center mb-3">
                <div class="col">
                    <label class="form-label" style="color: #4F7942;">비밀번호 확인</label>
                    <input id="chk_password" class="form-control" type="password" name="password_confirm" style="border-color: #9CAF88;">
                </div>
            </div>

            <div class="row text-center mb-3">
                <div class="col">
                    <label class="form-label" style="color: #4F7942;">이름</label>
                    <input id="nickname" class="form-control" type="text" name="nickname" style="border-color: #9CAF88;">
                </div>
            </div>

            <div class="row text-center mb-3">
                <div class="col">
                    <label class="form-label" style="color: #4F7942;">학번</label>
                    <input id="student_id" class="form-control" type="text" name="student_id" style="border-color: #9CAF88;">
                </div>
            </div>

            <div class="row text-center mb-3">
                <div class="col">
                    <label class="form-label" style="color: #4F7942;">학부</label>
                    <select id="department" class="form-control" name="department" style="border-color: #9CAF88;">
                        <option value="" disabled selected>학부를 선택하세요.</option>
                        <option value="인문과학대학">인문과학대학</option>
                        <option value="사회과학대학">사회과학대학</option>
                        <option value="자연과학대학">자연과학대학</option>
                        <option value="공과대학">공과대학</option>
                        <option value="공과대학">엘텍공과대학</option>
                        <option value="음악대학">음악대학</option>
                        <option value="조형예술대학">조형예술대학</option>
                        <option value="사범대학">사범대학</option>
                        <option value="경영대학">경영대학</option>
                        <option value="신산업융합대학">신산업융합대학</option>
                        <option value="의과대학">의과대학</option>
                        <option value="약학대학">약학대학</option>
                        <option value="간호대학">간호대학</option>
                        <option value="스크랜튼대학">스크랜튼대학</option>
                        <option value="인공지능대학">인공지능대학</option>
                        <option value="호크마교양대학">호크마교양대학</option>
                    </select>
                </div>
            </div>

            <div class="col-12 text-end">
                <button 
                    type="button"
                    class="btn btn-custom-primary" 
                    id="sign_btn">
                    회원가입
                </button>
            </div>
        </form>
    </div>
</div>

<style>
    .btn-custom-primary {
        color: rgb(255, 253, 241); /* 글씨 색상 */
        background-color: #C2D6C2; /* 배경색 설정 */
        font-size: 1.2rem;
        font-weight: bold;
        text-decoration: none;
        display: inline-block;
        cursor: pointer;
        transition: background 0.3s;
        padding: 8px 16px;
        border: none;
        border-radius: 4px; /* 약간의 모서리 둥글게 */
    }
    .btn-custom-primary:hover {
        color: rgba(0, 0, 0, 0.1); /* 글자 색상 유지 */
    }
</style>

<script>
    let sign_btn = document.getElementById("sign_btn");
    let sign_form = document.getElementById("sign_form");
    let chk_password = document.getElementById("chk_password");
    let password = document.getElementById("password");
    let username = document.getElementById("username");
    let nickname = document.getElementById("nickname");
    let student_id = document.getElementById("student_id");
    let department = document.getElementById("department");

    sign_btn.addEventListener("click", () => {
        if (!username.value) {
            alert("아이디를 입력해주세요.");
            return;
        }
        if (!password.value) {
            alert("비밀번호를 입력해주세요.");
            return;
        }
        if (password.value !== chk_password.value) {
            alert("비밀번호를 확인해주세요.");
            return;
        }
        if (!nickname.value) {
            alert("이름을 입력해주세요.");
            return;
        }
        if (!student_id.value) {
            alert("학번을 입력해주세요.");
            return;
        }
        if (!department.value) {
            alert("학부를 선택해주세요.");
            return;
        }
        sign_form.submit();
    });
</script>
{% endblock %}